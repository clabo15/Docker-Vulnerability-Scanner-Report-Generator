# Docker Vulnerability Scanner & Report Generator

This solution provides an automated way to scan Docker images for vulnerabilities using a collection of popular security tools including Trivy, Grype, and Syft, and then generates detailed, styled HTML reports based on the scan results for Trivy and Grype. This README outlines how to use the Docker vulnerability scanner script and the subsequent Python scripts to generate HTML reports.

## Prerequisites

- Docker installed and running on your system.
- Python 3 installed for running the report generation scripts.
- Ensure Docker daemon is running, and you have permissions to execute Docker commands.

## Setup and Usage

### 1. Scanning Docker Images

The scanner script automates the process of pulling a Docker image, scanning it for vulnerabilities using Trivy and Grype, generating a Software Bill of Materials (SBOM) with Syft, and saving the results in JSON format.

#### Usage

1. Navigate to the directory where you've saved the scanner script (`scanner.sh`).
2. Ensure the script is executable:
   ```bash
   chmod +x scanner.sh
   ```
3. Run the script with the Docker image name as an argument:
   ```bash
   ./scanner.sh <image-name>
   ```
   Example:
   ```bash
   ./scanner.sh mcr.microsoft.com/dotnet/sdk:8.0
   ```

The script creates a `scan_results` directory in the current working directory, pulls the specified Docker image, runs the scans, and saves the results in JSON format within the `scan_results` directory.

### 2. Generating HTML Reports

After running the scans, use the provided Python scripts to generate HTML reports from the JSON results.

#### Trivy Report Generator

Generates an HTML report from Trivy scan results.

##### Usage

1. Ensure you have the JSON output from a Trivy scan.
2. Run the Python script with the path to the Trivy JSON file as an argument:
   ```bash
   python3 summary-report-trivy.py ./scan_results/trivy_<image-name_safe>.json
   ```

Example:

```bash
python3 summary-report-trivy.py ./scan_results/trivy_mcr.microsoft.com_dotnet_sdk_8.0.json
```

#### Grype Report Generator

Generates an HTML report from Grype scan results.

##### Usage

1. Ensure you have the JSON output from a Grype scan.
2. Run the Python script with the path to the Grype JSON file as an argument:
   ```bash
   python3 summary-report-grype.py ./scan_results/grype_<image-name_safe>.json
   ```

Example:

```bash
python3 summary-report-grype.py ./scan_results/grype_mcr.microsoft.com_dotnet_sdk_8.0.json
```

### 3. Viewing the Reports

After running the respective Python script for Trivy or Grype, an HTML file (`trivy_report.html` or `grype_report.html`) is generated in the current directory. Open this file in any web browser to view the styled vulnerability report.

## Report Features

- **Vulnerability Details**: Each report includes the ID, package name, installed version, severity, a brief description, and a link to more information for each vulnerability found.
- **Styling**: Reports are styled with CSS for better readability and include a table format with alternating row colors.
- **Severity Levels**: Vulnerabilities are categorized by severity levels, allowing for prioritized remediation efforts.

Example Trivy Report:
![alt text](image.png)

Example Grype Report:
![alt text](image-1.png)
